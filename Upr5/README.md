
# Упражнение 5 - задачи

**Задача 1.** Да се напише програма на С, която използвайки системни примитиви за работа с файлове, чете последователност от символи от стандартния вход. Добавя ги след края на файл, чието име е подадено като първи параметър / ако файла не съществува се създава/. Замества символите за табулация с  ‘ | -> ’ и резултата записва във файл, чието име е подадено като втори параметър / ако файл съществува – старото съдъжание се изтрива/.

  

**Задача 2** Да се напише програма на С, която използвайки системни примитиви за работа с файлове, чете последователно  по един символ от файл, чието име е подено като първи параметър и по един символ от стандартния вход. Добавя прочетените символи, премахвайки символите ‘0’, ’1’, ’2’, ’3’, ’4’, ’5’, ’6’, ’7, ’8, ’9’, последователно след края на файл, чието име е подадено като втори параметър/ ако файла несъществува се създава/. Чете се до достъгане на края на файла или до изчерпване на входния поток.

### [](https://emojipedia.org/question-mark)

### ❓Трасировки

**Задача 3**. В текущия каталог се намира текстов файл **ABC** със следното съдържание:

**Let’s go light up the world!**

  

Напишете какво ще има записано във файла и какво ще бъде изведено на стандартния изход като резултат от изпълнението на дадения по-долу фрагмент от програма на С :

	main( ){
		int fdi, fdio, nb1, nb2;
		char buff [ 15 ] ;

		fdi = open ( “ ABC”, O_RDONLY);
		fdio = open ( “ ABC”, O_RDWR);
		nb1= read( fdi,buf,6);
		write ( 1, buf, nb1);

		lseek( fdi,3,SEEK_CUR);
		nb1= read( fdi,buf,6);
		write ( 1, buf, nb1);

		lseek( fdio,-20,SEEK_END);
		write( fdio,”disc”,4);

		write( fdio,”over”,4);
		nb2=read( fdio,buf,5);
		write ( 1, buf, nb2);
		write ( 1,”sky”, 3); 

		lseek( fdi,-2,SEEK_END);
		nb2= read( fdi,buf,2);
		write ( 1, buf, nb2);
	 }

**Задача 4.** В текущия каталог се намира текстов файл **ABC.** Като първи параметър на програма на С се подава съществуващ празен файл. Напишете какво ще има записано във файла и какво ще бъде изведено на стандартния изход като резултат от изпълнението на дадения по-долу фрагмент от програма на С :


	main ( int argc, char *argv[] ){

	int fd, i, status;

	if ( fork() ){
		wait(&status);
		for ( i=0; i<=4; i++){	
			write ( 1, “cat\n”,4);
			execlp ( “cat”, “cat”, “ABC”,0);
			write ( 1, “test1\n”,5); }
		} else { 
			close(1);
			fd = open ( argv[1], O_RDWR) ;	
			write (1, “test2\n”,5);
	}
		write (1, “test3\n”,5);
	}

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

**Задача** **5** В текущия каталог се намира текстов файл **abc** със следното съдържание :

**Let’s go change the world!**

  

Напишете какво ще има записано във файла и какво ще бъде изведено на стандартния изход като резултат от изпълнението на дадения по-долу фрагмент от програма на С :

  

  

#include <fcntl.h>
#include <stdio.h>

	main( ){
		int fdi, fdio, nb1, nb2;

		char buff [ 15 ] ;
		fdi = open ( “ abc”, O_RDONLY);
		fdio = open ( “ abc”, O_RDWR);
		nb1= read( fdi,buf,6);
		write ( 1, buf, nb1);

		lseek( fdi,3,SEEK_CUR);
		nb1= read( fdi,buf,6);
		write ( 1, buf, nb1); 

		lseek( fdio,-18,SEEK_END);
		write( fdio,”tra”,3);
		write( fdio,”vel”,3);

		nb2=read( fdio,buf,5);
		write ( 1, buf, nb2);
		write ( 1,”time”, 4);

		lseek( fdi,-2,SEEK_END);
		nb2= read( fdi,buf,2);
		write ( 1, buf, nb2);
	}

  
  

#
